# Source Files
add_source(airport.cpp)
add_source(animated_tile.cpp)
add_source(articulated_vehicles.cpp)
add_source(autoreplace.cpp)
add_source(bmp.cpp)
add_source(cargoaction.cpp)
add_source(cargomonitor.cpp)
add_source(cargopacket.cpp)
add_source(cargotype.cpp)
add_source(cheat.cpp)
add_source(command.cpp)
add_source(console.cpp)
add_source(console_cmds.cpp)
add_source(cpu.cpp)
add_source(crashlog.cpp)
add_source(currency.cpp)
add_source(date.cpp)
add_source(debug.cpp)
add_source(dedicated.cpp)
add_source(depot.cpp)
add_source(disaster_vehicle.cpp)
add_source(driver.cpp)
add_source(economy.cpp)
add_source(effectvehicle.cpp)
add_source(elrail.cpp)
add_source(engine.cpp)
add_source(fileio.cpp)
add_source(fios.cpp)
add_source(fontcache.cpp)
add_source(fontdetection.cpp)
add_source(base_consist.cpp)
add_source(gamelog.cpp)
add_source(genworld.cpp)
add_source(gfx.cpp)
add_source(gfxinit.cpp)
add_source(gfx_layout.cpp)
add_source(goal.cpp)
add_source(ground_vehicle.cpp)
add_source(heightmap.cpp)
add_source(highscore.cpp)
add_source(hotkeys.cpp)
add_source(ini.cpp)
add_source(ini_load.cpp)
add_source(landscape.cpp)
add_source(linkgraph/demands.cpp)
add_source(linkgraph/flowmapper.cpp)
add_source(linkgraph/linkgraph.cpp)
add_source(linkgraph/linkgraphjob.cpp)
add_source(linkgraph/linkgraphschedule.cpp)
add_source(linkgraph/mcf.cpp)
add_source(linkgraph/refresh.cpp)
add_source(map.cpp)
add_source(misc.cpp)
add_source(mixer.cpp)
add_source(music.cpp)
add_source(network/network.cpp)
add_source(network/network_admin.cpp)
add_source(network/network_client.cpp)
add_source(network/network_command.cpp)
add_source(network/network_content.cpp)
add_source(network/network_gamelist.cpp)
add_source(network/network_server.cpp)
add_source(network/network_udp.cpp)
add_source(openttd.cpp)
add_source(order_backup.cpp)
add_source(pbs.cpp)
add_source(progress.cpp)
add_source(rail.cpp)
add_source(rev.cpp)
add_source(road.cpp)
add_source(roadstop.cpp)
add_source(screenshot.cpp)
if (WITH_SDL)
	add_source(sdl.cpp)
endif ()
add_source(settings.cpp)
add_source(signal.cpp)
add_source(signs.cpp)
add_source(sound.cpp)
add_source(sprite.cpp)
add_source(spritecache.cpp)
add_source(station.cpp)
add_source(strgen/strgen_base.cpp)
add_source(string.cpp)
add_source(stringfilter.cpp)
add_source(strings.cpp)
add_source(story.cpp)
add_source(subsidy.cpp)
add_source(textbuf.cpp)
add_source(texteff.cpp)
add_source(tgp.cpp)
add_source(tile_map.cpp)
add_source(tilearea.cpp)
add_source(townname.cpp)
if (WIN32)
else ()
	if (OS2)
		add_source(os/os2/os2.cpp)
		add_source(3rdparty/os2/getaddrinfo.c)
		add_source(3rdparty/os2/getaddrinfo.h)
		add_source(3rdparty/os2/getnameinfo.c)
		add_source(3rdparty/os2/getnameinfo.h)
	else ()
		if (OSX)
			add_source(os/macosx/crashlog_osx.cpp)
		else ()
			add_source(os/unix/crashlog_unix.cpp)
		endif ()
		add_source(os/unix/unix.cpp)
	endif ()
endif ()
add_source(vehicle.cpp)
add_source(vehiclelist.cpp)
add_source(viewport.cpp)
if (WITH_SSE)
add_source(viewport_sprite_sorter_sse4.cpp -msse4.1)
endif ()
add_source(waypoint.cpp)
add_source(widget.cpp)
add_source(window.cpp)

# Header Files
if (WITH_ALLEGRO)
	add_source(music/allegro_m.h)
	add_source(sound/allegro_s.h)
	add_source(video/allegro_v.h)
endif ()
add_source(aircraft.h)
add_source(airport.h)
add_source(animated_tile_func.h)
add_source(articulated_vehicles.h)
add_source(autoreplace_base.h)
add_source(autoreplace_func.h)
add_source(autoreplace_gui.h)
add_source(autoreplace_type.h)
add_source(autoslope.h)
add_source(base_media_base.h)
add_source(base_media_func.h)
add_source(base_station_base.h)
add_source(bmp.h)
add_source(bridge.h)
add_source(cargo_type.h)
add_source(cargoaction.h)
add_source(cargomonitor.h)
add_source(cargopacket.h)
add_source(cargotype.h)
add_source(cheat_func.h)
add_source(cheat_type.h)
add_source(clear_func.h)
add_source(cmd_helper.h)
add_source(command_func.h)
add_source(command_type.h)
add_source(company_base.h)
add_source(company_func.h)
add_source(company_gui.h)
add_source(company_manager_face.h)
add_source(company_type.h)
add_source(console_func.h)
add_source(console_gui.h)
add_source(console_internal.h)
add_source(console_type.h)
add_source(cpu.h)
add_source(crashlog.h)
add_source(currency.h)
add_source(date_func.h)
add_source(date_gui.h)
add_source(date_type.h)
add_source(debug.h)
add_source(video/dedicated_v.h)
add_source(depot_base.h)
add_source(depot_func.h)
add_source(depot_map.h)
add_source(depot_type.h)
add_source(direction_func.h)
add_source(direction_type.h)
add_source(disaster_vehicle.h)
add_source(music/dmusic.h)
add_source(driver.h)
add_source(economy_base.h)
add_source(economy_func.h)
add_source(economy_type.h)
add_source(effectvehicle_base.h)
add_source(effectvehicle_func.h)
add_source(elrail_func.h)
add_source(engine_base.h)
add_source(engine_func.h)
add_source(engine_gui.h)
add_source(engine_type.h)
add_source(error.h)
add_source(fileio_func.h)
add_source(fileio_type.h)
add_source(fios.h)
add_source(fontcache.h)
add_source(fontdetection.h)
add_source(framerate_type.h)
add_source(base_consist.h)
add_source(gamelog.h)
add_source(gamelog_internal.h)
add_source(genworld.h)
add_source(gfx_func.h)
add_source(gfx_layout.h)
add_source(gfx_type.h)
add_source(gfxinit.h)
add_source(goal_base.h)
add_source(goal_type.h)
add_source(graph_gui.h)
add_source(ground_vehicle.hpp)
add_source(group.h)
add_source(group_gui.h)
add_source(group_type.h)
add_source(gui.h)
add_source(heightmap.h)
add_source(highscore.h)
add_source(hotkeys.h)
add_source(house.h)
add_source(house_type.h)
add_source(industry.h)
add_source(industry_type.h)
add_source(industrytype.h)
add_source(ini_type.h)
add_source(landscape.h)
add_source(landscape_type.h)
add_source(language.h)
add_source(linkgraph/demands.h)
add_source(linkgraph/flowmapper.h)
add_source(linkgraph/init.h)
add_source(linkgraph/linkgraph.h)
add_source(linkgraph/linkgraph_base.h)
add_source(linkgraph/linkgraph_gui.h)
add_source(linkgraph/linkgraph_type.h)
add_source(linkgraph/linkgraphjob.h)
add_source(linkgraph/linkgraphjob_base.h)
add_source(linkgraph/linkgraphschedule.h)
add_source(linkgraph/mcf.h)
add_source(linkgraph/refresh.h)
add_source(livery.h)
add_source(map_func.h)
add_source(map_type.h)
add_source(mixer.h)
add_source(network/network.h)
add_source(network/network_admin.h)
add_source(network/network_base.h)
add_source(network/network_client.h)
add_source(network/network_content.h)
add_source(network/network_content_gui.h)
add_source(network/network_func.h)
add_source(network/network_gamelist.h)
add_source(network/network_gui.h)
add_source(network/network_internal.h)
add_source(network/network_server.h)
add_source(network/network_type.h)
add_source(network/network_udp.h)
add_source(newgrf.h)
add_source(newgrf_airport.h)
add_source(newgrf_airporttiles.h)
add_source(newgrf_animation_base.h)
add_source(newgrf_animation_type.h)
add_source(newgrf_callbacks.h)
add_source(newgrf_canal.h)
add_source(newgrf_cargo.h)
add_source(newgrf_class.h)
add_source(newgrf_class_func.h)
add_source(newgrf_commons.h)
add_source(newgrf_config.h)
add_source(newgrf_debug.h)
add_source(newgrf_engine.h)
add_source(newgrf_generic.h)
add_source(newgrf_house.h)
add_source(newgrf_industries.h)
add_source(newgrf_industrytiles.h)
add_source(newgrf_object.h)
add_source(newgrf_properties.h)
add_source(newgrf_railtype.h)
add_source(newgrf_sound.h)
add_source(newgrf_spritegroup.h)
add_source(newgrf_station.h)
add_source(newgrf_storage.h)
add_source(newgrf_text.h)
add_source(newgrf_town.h)
add_source(newgrf_townname.h)
add_source(news_func.h)
add_source(news_gui.h)
add_source(news_type.h)
add_source(music/midi.h)
add_source(music/midifile.hpp)
add_source(music/null_m.h)
add_source(sound/null_s.h)
add_source(video/null_v.h)
add_source(object.h)
add_source(object_base.h)
add_source(object_type.h)
add_source(openttd.h)
add_source(order_backup.h)
add_source(order_base.h)
add_source(order_func.h)
add_source(order_type.h)
add_source(pbs.h)
add_source(progress.h)
add_source(querystring_gui.h)
add_source(rail.h)
add_source(rail_gui.h)
add_source(rail_type.h)
add_source(rev.h)
add_source(road_cmd.h)
add_source(road_func.h)
add_source(road_gui.h)
add_source(road_internal.h)
add_source(road_type.h)
add_source(roadstop_base.h)
add_source(roadveh.h)
add_source(safeguards.h)
add_source(screenshot.h)
add_source(sdl.h)
add_source(sound/sdl_s.h)
add_source(video/sdl_v.h)
add_source(settings_func.h)
add_source(settings_gui.h)
add_source(settings_internal.h)
add_source(settings_type.h)
add_source(ship.h)
add_source(signal_func.h)
add_source(signal_type.h)
add_source(signs_base.h)
add_source(signs_func.h)
add_source(signs_type.h)
add_source(slope_func.h)
add_source(slope_type.h)
add_source(smallmap_gui.h)
add_source(sortlist_type.h)
add_source(sound_func.h)
add_source(sound_type.h)
add_source(sprite.h)
add_source(spritecache.h)
add_source(station_base.h)
add_source(station_func.h)
add_source(station_gui.h)
add_source(station_type.h)
add_source(statusbar_gui.h)
add_source(stdafx.h)
add_source(story_base.h)
add_source(story_type.h)
add_source(strgen/strgen.h)
add_source(string_base.h)
add_source(string_func.h)
add_source(string_type.h)
add_source(os/windows/string_uniscribe.h)
add_source(stringfilter_type.h)
add_source(strings_func.h)
add_source(strings_type.h)
add_source(subsidy_base.h)
add_source(subsidy_func.h)
add_source(subsidy_type.h)
add_source(tar_type.h)
add_source(terraform_gui.h)
add_source(textbuf_gui.h)
add_source(textbuf_type.h)
add_source(texteff.hpp)
add_source(textfile_gui.h)
add_source(textfile_type.h)
add_source(tgp.h)
add_source(tile_cmd.h)
add_source(tile_type.h)
add_source(tilearea_type.h)
add_source(tilehighlight_func.h)
add_source(tilehighlight_type.h)
add_source(tilematrix_type.hpp)
add_source(timetable.h)
add_source(toolbar_gui.h)
add_source(town.h)
add_source(town_type.h)
add_source(townname_func.h)
add_source(townname_type.h)
add_source(track_func.h)
add_source(track_type.h)
add_source(train.h)
add_source(transparency.h)
add_source(transparency_gui.h)
add_source(transport_type.h)
add_source(tunnelbridge.h)
add_source(vehicle_base.h)
add_source(vehicle_func.h)
add_source(vehicle_gui.h)
add_source(vehicle_gui_base.h)
add_source(vehicle_type.h)
add_source(vehiclelist.h)
add_source(viewport_func.h)
add_source(viewport_sprite_sorter.h)
add_source(viewport_type.h)
add_source(water.h)
add_source(waypoint_base.h)
add_source(waypoint_func.h)
add_source(widget_type.h)
add_source(os/windows/win32.h)
add_source(music/win32_m.h)
add_source(sound/win32_s.h)
add_source(video/win32_v.h)
add_source(window_func.h)
add_source(window_gui.h)
add_source(window_type.h)
add_source(sound/xaudio2_s.h)
add_source(zoom_func.h)
add_source(zoom_type.h)
if (WIN32)
else ()
add_source(music/bemidi.h)
add_source(music/cocoa_m.h)
add_source(music/extmidi.h)
add_source(music/libtimidity.h)
add_source(music/fluidsynth.h)
add_source(music/os2_m.h)
add_source(music/qtmidi.h)
add_source(os/macosx/macos.h)
add_source(os/macosx/osx_stdafx.h)
add_source(os/macosx/splash.h)
add_source(sound/cocoa_s.h)
add_source(video/cocoa/cocoa_keys.h)
add_source(video/cocoa/cocoa_v.h)
endif ()

# Core Source Code
add_source(core/alloc_func.cpp)
add_source(core/alloc_func.hpp)
add_source(core/alloc_type.hpp)
add_source(core/backup_type.hpp)
add_source(core/bitmath_func.cpp)
add_source(core/bitmath_func.hpp)
add_source(core/endian_func.hpp)
add_source(core/endian_type.hpp)
add_source(core/enum_type.hpp)
add_source(core/geometry_func.cpp)
add_source(core/geometry_func.hpp)
add_source(core/geometry_type.hpp)
add_source(core/math_func.cpp)
add_source(core/math_func.hpp)
add_source(core/mem_func.hpp)
add_source(core/multimap.hpp)
add_source(core/overflowsafe_type.hpp)
add_source(core/pool_func.cpp)
add_source(core/pool_func.hpp)
add_source(core/pool_type.hpp)
add_source(core/random_func.cpp)
add_source(core/random_func.hpp)
add_source(core/smallmap_type.hpp)
add_source(core/smallmatrix_type.hpp)
add_source(core/smallstack_type.hpp)
add_source(core/smallvec_type.hpp)
add_source(core/sort_func.hpp)
add_source(core/string_compare_type.hpp)

# GUI Source Code
add_source(aircraft_gui.cpp)
add_source(airport_gui.cpp)
add_source(autoreplace_gui.cpp)
add_source(bootstrap_gui.cpp)
add_source(bridge_gui.cpp)
add_source(build_vehicle_gui.cpp)
add_source(cheat_gui.cpp)
add_source(company_gui.cpp)
add_source(console_gui.cpp)
add_source(date_gui.cpp)
add_source(depot_gui.cpp)
add_source(dock_gui.cpp)
add_source(engine_gui.cpp)
add_source(error_gui.cpp)
add_source(fios_gui.cpp)
add_source(framerate_gui.cpp)
add_source(genworld_gui.cpp)
add_source(goal_gui.cpp)
add_source(graph_gui.cpp)
add_source(group_gui.cpp)
add_source(highscore_gui.cpp)
add_source(industry_gui.cpp)
add_source(intro_gui.cpp)
add_source(linkgraph/linkgraph_gui.cpp)
add_source(main_gui.cpp)
add_source(misc_gui.cpp)
add_source(music_gui.cpp)
add_source(network/network_chat_gui.cpp)
add_source(network/network_content_gui.cpp)
add_source(network/network_gui.cpp)
add_source(newgrf_debug_gui.cpp)
add_source(newgrf_gui.cpp)
add_source(news_gui.cpp)
add_source(object_gui.cpp)
add_source(order_gui.cpp)
add_source(osk_gui.cpp)
add_source(rail_gui.cpp)
add_source(road_gui.cpp)
add_source(roadveh_gui.cpp)
add_source(settings_gui.cpp)
add_source(ship_gui.cpp)
add_source(signs_gui.cpp)
add_source(smallmap_gui.cpp)
add_source(station_gui.cpp)
add_source(statusbar_gui.cpp)
add_source(story_gui.cpp)
add_source(subsidy_gui.cpp)
add_source(terraform_gui.cpp)
add_source(textfile_gui.cpp)
add_source(timetable_gui.cpp)
add_source(toolbar_gui.cpp)
add_source(town_gui.cpp)
add_source(train_gui.cpp)
add_source(transparency_gui.cpp)
add_source(tree_gui.cpp)
add_source(vehicle_gui.cpp)
add_source(viewport_gui.cpp)
add_source(waypoint_gui.cpp)

# Widgets
add_source(widgets/airport_widget.h)
add_source(widgets/ai_widget.h)
add_source(widgets/autoreplace_widget.h)
add_source(widgets/bootstrap_widget.h)
add_source(widgets/bridge_widget.h)
add_source(widgets/build_vehicle_widget.h)
add_source(widgets/cheat_widget.h)
add_source(widgets/company_widget.h)
add_source(widgets/console_widget.h)
add_source(widgets/date_widget.h)
add_source(widgets/depot_widget.h)
add_source(widgets/dock_widget.h)
add_source(widgets/dropdown.cpp)
add_source(widgets/dropdown_func.h)
add_source(widgets/dropdown_type.h)
add_source(widgets/dropdown_widget.h)
add_source(widgets/engine_widget.h)
add_source(widgets/error_widget.h)
add_source(widgets/fios_widget.h)
add_source(widgets/framerate_widget.h)
add_source(widgets/genworld_widget.h)
add_source(widgets/goal_widget.h)
add_source(widgets/graph_widget.h)
add_source(widgets/group_widget.h)
add_source(widgets/highscore_widget.h)
add_source(widgets/industry_widget.h)
add_source(widgets/intro_widget.h)
add_source(widgets/link_graph_legend_widget.h)
add_source(widgets/main_widget.h)
add_source(widgets/misc_widget.h)
add_source(widgets/music_widget.h)
add_source(widgets/network_chat_widget.h)
add_source(widgets/network_content_widget.h)
add_source(widgets/network_widget.h)
add_source(widgets/newgrf_debug_widget.h)
add_source(widgets/newgrf_widget.h)
add_source(widgets/news_widget.h)
add_source(widgets/object_widget.h)
add_source(widgets/order_widget.h)
add_source(widgets/osk_widget.h)
add_source(widgets/rail_widget.h)
add_source(widgets/road_widget.h)
add_source(widgets/settings_widget.h)
add_source(widgets/sign_widget.h)
add_source(widgets/smallmap_widget.h)
add_source(widgets/station_widget.h)
add_source(widgets/statusbar_widget.h)
add_source(widgets/story_widget.h)
add_source(widgets/subsidy_widget.h)
add_source(widgets/terraform_widget.h)
add_source(widgets/timetable_widget.h)
add_source(widgets/toolbar_widget.h)
add_source(widgets/town_widget.h)
add_source(widgets/transparency_widget.h)
add_source(widgets/tree_widget.h)
add_source(widgets/vehicle_widget.h)
add_source(widgets/viewport_widget.h)
add_source(widgets/waypoint_widget.h)

# Command handlers
add_source(aircraft_cmd.cpp)
add_source(autoreplace_cmd.cpp)
add_source(clear_cmd.cpp)
add_source(company_cmd.cpp)
add_source(depot_cmd.cpp)
add_source(group_cmd.cpp)
add_source(industry_cmd.cpp)
add_source(misc_cmd.cpp)
add_source(object_cmd.cpp)
add_source(order_cmd.cpp)
add_source(rail_cmd.cpp)
add_source(road_cmd.cpp)
add_source(roadveh_cmd.cpp)
add_source(ship_cmd.cpp)
add_source(signs_cmd.cpp)
add_source(station_cmd.cpp)
add_source(terraform_cmd.cpp)
add_source(timetable_cmd.cpp)
add_source(town_cmd.cpp)
add_source(train_cmd.cpp)
add_source(tree_cmd.cpp)
add_source(tunnelbridge_cmd.cpp)
add_source(vehicle_cmd.cpp)
add_source(void_cmd.cpp)
add_source(water_cmd.cpp)
add_source(waypoint_cmd.cpp)

# Save/Load handlers
add_source(saveload/afterload.cpp)
add_source(saveload/ai_sl.cpp)
add_source(saveload/airport_sl.cpp)
add_source(saveload/animated_tile_sl.cpp)
add_source(saveload/autoreplace_sl.cpp)
add_source(saveload/cargomonitor_sl.cpp)
add_source(saveload/cargopacket_sl.cpp)
add_source(saveload/cheat_sl.cpp)
add_source(saveload/company_sl.cpp)
add_source(saveload/depot_sl.cpp)
add_source(saveload/economy_sl.cpp)
add_source(saveload/engine_sl.cpp)
add_source(saveload/game_sl.cpp)
add_source(saveload/gamelog_sl.cpp)
add_source(saveload/goal_sl.cpp)
add_source(saveload/group_sl.cpp)
add_source(saveload/industry_sl.cpp)
add_source(saveload/labelmaps_sl.cpp)
add_source(saveload/linkgraph_sl.cpp)
add_source(saveload/map_sl.cpp)
add_source(saveload/misc_sl.cpp)
add_source(saveload/newgrf_sl.cpp)
add_source(saveload/newgrf_sl.h)
add_source(saveload/object_sl.cpp)
add_source(saveload/oldloader.cpp)
add_source(saveload/oldloader.h)
add_source(saveload/oldloader_sl.cpp)
add_source(saveload/order_sl.cpp)
add_source(saveload/saveload.cpp)
add_source(saveload/saveload.h)
add_source(saveload/saveload_filter.h)
add_source(saveload/saveload_internal.h)
add_source(saveload/signs_sl.cpp)
add_source(saveload/station_sl.cpp)
add_source(saveload/storage_sl.cpp)
add_source(saveload/strings_sl.cpp)
add_source(saveload/story_sl.cpp)
add_source(saveload/subsidy_sl.cpp)
add_source(saveload/town_sl.cpp)
add_source(saveload/vehicle_sl.cpp)
add_source(saveload/waypoint_sl.cpp)

# Tables
add_source(table/airport_defaults.h)
add_source(table/airport_movement.h)
add_source(table/airporttile_ids.h)
add_source(table/airporttiles.h)
add_source(table/animcursors.h)
add_source(table/autorail.h)
add_source(table/bridge_land.h)
add_source(table/build_industry.h)
add_source(table/cargo_const.h)
add_source(table/clear_land.h)
add_source(table/control_codes.h)
add_source(table/elrail_data.h)
add_source(table/engines.h)
add_source(table/genland.h)
add_source(table/heightmap_colours.h)
add_source(table/industry_land.h)
add_source(table/landscape_sprite.h)
add_source(table/newgrf_debug_data.h)
add_source(table/object_land.h)
add_source(table/palette_convert.h)
add_source(table/palettes.h)
add_source(table/pricebase.h)
add_source(table/railtypes.h)
add_source(table/road_land.h)
add_source(table/roadveh_movement.h)
#add_source(../objs/settings/table/settings.h)
add_source(../objs/setting/table/settings.h)
add_source(table/sprites.h)
add_source(table/station_land.h)
add_source(table/strgen_tables.h)
add_source(table/string_colours.h)
add_source(../objs/langs/table/strings.h)
add_source(table/town_land.h)
add_source(table/townname.h)
add_source(table/track_land.h)
add_source(table/train_cmd.h)
add_source(table/tree_land.h)
add_source(table/unicode.h)
add_source(table/water_land.h)

# MD5
add_source(3rdparty/md5/md5.cpp)
add_source(3rdparty/md5/md5.h)

# Script
add_source(script/script_config.cpp)
add_source(script/script_config.hpp)
add_source(script/script_fatalerror.hpp)
add_source(script/script_info.cpp)
add_source(script/script_info.hpp)
add_source(script/script_info_dummy.cpp)
add_source(script/script_instance.cpp)
add_source(script/script_instance.hpp)
add_source(script/script_scanner.cpp)
add_source(script/script_scanner.hpp)
add_source(script/script_storage.hpp)
add_source(script/script_suspend.hpp)
add_source(script/squirrel.cpp)
add_source(script/squirrel.hpp)
add_source(script/squirrel_class.hpp)
add_source(script/squirrel_helper.hpp)
add_source(script/squirrel_helper_type.hpp)
add_source(script/squirrel_std.cpp)
add_source(script/squirrel_std.hpp)

# Squirrel
add_source(3rdparty/squirrel/squirrel/sqapi.cpp)
add_source(3rdparty/squirrel/squirrel/sqbaselib.cpp)
add_source(3rdparty/squirrel/squirrel/sqclass.cpp)
add_source(3rdparty/squirrel/squirrel/sqcompiler.cpp)
add_source(3rdparty/squirrel/squirrel/sqdebug.cpp)
add_source(3rdparty/squirrel/squirrel/sqfuncstate.cpp)
add_source(3rdparty/squirrel/squirrel/sqlexer.cpp)
add_source(3rdparty/squirrel/squirrel/sqmem.cpp)
add_source(3rdparty/squirrel/squirrel/sqobject.cpp)
add_source(3rdparty/squirrel/squirrel/sqstate.cpp)
add_source(3rdparty/squirrel/sqstdlib/sqstdaux.cpp)
add_source(3rdparty/squirrel/sqstdlib/sqstdmath.cpp)
add_source(3rdparty/squirrel/squirrel/sqtable.cpp)
add_source(3rdparty/squirrel/squirrel/sqvm.cpp)

# Squirrel headers
add_source(3rdparty/squirrel/squirrel/sqarray.h)
add_source(3rdparty/squirrel/squirrel/sqclass.h)
add_source(3rdparty/squirrel/squirrel/sqclosure.h)
add_source(3rdparty/squirrel/squirrel/sqcompiler.h)
add_source(3rdparty/squirrel/squirrel/sqfuncproto.h)
add_source(3rdparty/squirrel/squirrel/sqfuncstate.h)
add_source(3rdparty/squirrel/squirrel/sqlexer.h)
add_source(3rdparty/squirrel/squirrel/sqobject.h)
add_source(3rdparty/squirrel/squirrel/sqopcodes.h)
add_source(3rdparty/squirrel/squirrel/sqpcheader.h)
add_source(3rdparty/squirrel/squirrel/sqstate.h)
add_source(3rdparty/squirrel/include/sqstdaux.h)
add_source(3rdparty/squirrel/include/sqstdmath.h)
add_source(3rdparty/squirrel/include/sqstdstring.h)
add_source(3rdparty/squirrel/squirrel/sqstring.h)
add_source(3rdparty/squirrel/squirrel/sqtable.h)
add_source(3rdparty/squirrel/include/squirrel.h)
add_source(3rdparty/squirrel/squirrel/squserdata.h)
add_source(3rdparty/squirrel/squirrel/squtils.h)
add_source(3rdparty/squirrel/squirrel/sqvm.h)

# AI Core
add_source(ai/ai.hpp)
add_source(ai/ai_config.cpp)
add_source(ai/ai_config.hpp)
add_source(ai/ai_core.cpp)
add_source(ai/ai_gui.cpp)
add_source(ai/ai_gui.hpp)
add_source(ai/ai_info.cpp)
add_source(ai/ai_info.hpp)
add_source(ai/ai_instance.cpp)
add_source(ai/ai_instance.hpp)
add_source(ai/ai_scanner.cpp)
add_source(ai/ai_scanner.hpp)

# AI API
add_source(script/api/ai_changelog.hpp)

# Game API
add_source(script/api/game_changelog.hpp)

# Game Core
add_source(game/game.hpp)
add_source(game/game_config.cpp)
add_source(game/game_config.hpp)
add_source(game/game_core.cpp)
add_source(game/game_info.cpp)
add_source(game/game_info.hpp)
add_source(game/game_instance.cpp)
add_source(game/game_instance.hpp)
add_source(game/game_scanner.cpp)
add_source(game/game_scanner.hpp)
add_source(game/game_text.cpp)
add_source(game/game_text.hpp)

# Script API
add_source(script/api/script_accounting.hpp)
add_source(script/api/script_admin.hpp)
add_source(script/api/script_airport.hpp)
add_source(script/api/script_base.hpp)
add_source(script/api/script_basestation.hpp)
add_source(script/api/script_bridge.hpp)
add_source(script/api/script_bridgelist.hpp)
add_source(script/api/script_cargo.hpp)
add_source(script/api/script_cargolist.hpp)
add_source(script/api/script_cargomonitor.hpp)
add_source(script/api/script_client.hpp)
add_source(script/api/script_clientlist.hpp)
add_source(script/api/script_company.hpp)
add_source(script/api/script_companymode.hpp)
add_source(script/api/script_controller.hpp)
add_source(script/api/script_date.hpp)
add_source(script/api/script_depotlist.hpp)
add_source(script/api/script_engine.hpp)
add_source(script/api/script_enginelist.hpp)
add_source(script/api/script_error.hpp)
add_source(script/api/script_event.hpp)
add_source(script/api/script_event_types.hpp)
add_source(script/api/script_execmode.hpp)
add_source(script/api/script_game.hpp)
add_source(script/api/script_gamesettings.hpp)
add_source(script/api/script_goal.hpp)
add_source(script/api/script_group.hpp)
add_source(script/api/script_grouplist.hpp)
add_source(script/api/script_industry.hpp)
add_source(script/api/script_industrylist.hpp)
add_source(script/api/script_industrytype.hpp)
add_source(script/api/script_industrytypelist.hpp)
add_source(script/api/script_info_docs.hpp)
add_source(script/api/script_infrastructure.hpp)
add_source(script/api/script_list.hpp)
add_source(script/api/script_log.hpp)
add_source(script/api/script_map.hpp)
add_source(script/api/script_marine.hpp)
add_source(script/api/script_news.hpp)
add_source(script/api/script_object.hpp)
add_source(script/api/script_order.hpp)
add_source(script/api/script_rail.hpp)
add_source(script/api/script_railtypelist.hpp)
add_source(script/api/script_road.hpp)
add_source(script/api/script_sign.hpp)
add_source(script/api/script_signlist.hpp)
add_source(script/api/script_station.hpp)
add_source(script/api/script_stationlist.hpp)
add_source(script/api/script_story_page.hpp)
add_source(script/api/script_storypagelist.hpp)
add_source(script/api/script_storypageelementlist.hpp)
add_source(script/api/script_subsidy.hpp)
add_source(script/api/script_subsidylist.hpp)
add_source(script/api/script_testmode.hpp)
add_source(script/api/script_text.hpp)
add_source(script/api/script_tile.hpp)
add_source(script/api/script_tilelist.hpp)
add_source(script/api/script_town.hpp)
add_source(script/api/script_townlist.hpp)
add_source(script/api/script_tunnel.hpp)
add_source(script/api/script_types.hpp)
add_source(script/api/script_vehicle.hpp)
add_source(script/api/script_vehiclelist.hpp)
add_source(script/api/script_viewport.hpp)
add_source(script/api/script_waypoint.hpp)
add_source(script/api/script_waypointlist.hpp)
add_source(script/api/script_window.hpp)

# Script API Implementation
add_source(script/api/script_accounting.cpp)
add_source(script/api/script_admin.cpp)
add_source(script/api/script_airport.cpp)
add_source(script/api/script_base.cpp)
add_source(script/api/script_basestation.cpp)
add_source(script/api/script_bridge.cpp)
add_source(script/api/script_bridgelist.cpp)
add_source(script/api/script_cargo.cpp)
add_source(script/api/script_cargolist.cpp)
add_source(script/api/script_cargomonitor.cpp)
add_source(script/api/script_client.cpp)
add_source(script/api/script_clientlist.cpp)
add_source(script/api/script_company.cpp)
add_source(script/api/script_companymode.cpp)
add_source(script/api/script_controller.cpp)
add_source(script/api/script_date.cpp)
add_source(script/api/script_depotlist.cpp)
add_source(script/api/script_engine.cpp)
add_source(script/api/script_enginelist.cpp)
add_source(script/api/script_error.cpp)
add_source(script/api/script_event.cpp)
add_source(script/api/script_event_types.cpp)
add_source(script/api/script_execmode.cpp)
add_source(script/api/script_game.cpp)
add_source(script/api/script_gamesettings.cpp)
add_source(script/api/script_goal.cpp)
add_source(script/api/script_group.cpp)
add_source(script/api/script_grouplist.cpp)
add_source(script/api/script_industry.cpp)
add_source(script/api/script_industrylist.cpp)
add_source(script/api/script_industrytype.cpp)
add_source(script/api/script_industrytypelist.cpp)
add_source(script/api/script_infrastructure.cpp)
add_source(script/api/script_list.cpp)
add_source(script/api/script_log.cpp)
add_source(script/api/script_map.cpp)
add_source(script/api/script_marine.cpp)
add_source(script/api/script_news.cpp)
add_source(script/api/script_object.cpp)
add_source(script/api/script_order.cpp)
add_source(script/api/script_rail.cpp)
add_source(script/api/script_railtypelist.cpp)
add_source(script/api/script_road.cpp)
add_source(script/api/script_sign.cpp)
add_source(script/api/script_signlist.cpp)
add_source(script/api/script_station.cpp)
add_source(script/api/script_stationlist.cpp)
add_source(script/api/script_story_page.cpp)
add_source(script/api/script_storypagelist.cpp)
add_source(script/api/script_storypageelementlist.cpp)
add_source(script/api/script_subsidy.cpp)
add_source(script/api/script_subsidylist.cpp)
add_source(script/api/script_testmode.cpp)
add_source(script/api/script_text.cpp)
add_source(script/api/script_tile.cpp)
add_source(script/api/script_tilelist.cpp)
add_source(script/api/script_town.cpp)
add_source(script/api/script_townlist.cpp)
add_source(script/api/script_tunnel.cpp)
add_source(script/api/script_vehicle.cpp)
add_source(script/api/script_vehiclelist.cpp)
add_source(script/api/script_viewport.cpp)
add_source(script/api/script_waypoint.cpp)
add_source(script/api/script_waypointlist.cpp)
add_source(script/api/script_window.cpp)

# Blitters
if (DEDICATED)
else ()
add_source(blitter/32bpp_anim.cpp)
add_source(blitter/32bpp_anim.hpp)
if (WITH_SSE)
add_source(blitter/32bpp_anim_sse2.cpp -msse2)
add_source(blitter/32bpp_anim_sse2.hpp)
add_source(blitter/32bpp_anim_sse4.cpp "-msse4.1")
add_source(blitter/32bpp_anim_sse4.hpp)
endif ()
add_source(blitter/32bpp_base.cpp)
add_source(blitter/32bpp_base.hpp)
add_source(blitter/32bpp_optimized.cpp)
add_source(blitter/32bpp_optimized.hpp)
add_source(blitter/32bpp_simple.cpp)
add_source(blitter/32bpp_simple.hpp)
if (WITH_SSE)
add_source(blitter/32bpp_sse_func.hpp)
add_source(blitter/32bpp_sse_type.h)
add_source(blitter/32bpp_sse2.cpp -msse2)
add_source(blitter/32bpp_sse2.hpp)
add_source(blitter/32bpp_sse4.cpp -msse4.1)
add_source(blitter/32bpp_sse4.hpp)
add_source(blitter/32bpp_ssse3.cpp -mssse3)
add_source(blitter/32bpp_ssse3.hpp)
endif ()
add_source(blitter/8bpp_base.cpp)
add_source(blitter/8bpp_base.hpp)
add_source(blitter/8bpp_optimized.cpp)
add_source(blitter/8bpp_optimized.hpp)
add_source(blitter/8bpp_simple.cpp)
add_source(blitter/8bpp_simple.hpp)
endif ()
add_source(blitter/base.cpp)
add_source(blitter/base.hpp)
add_source(blitter/factory.hpp)
add_source(blitter/null.cpp)
add_source(blitter/null.hpp)

# Drivers
add_source(music/music_driver.hpp)
add_source(sound/sound_driver.hpp)
add_source(video/video_driver.hpp)

# Sprite loaders
add_source(spriteloader/grf.cpp)
add_source(spriteloader/grf.hpp)
add_source(spriteloader/spriteloader.hpp)

# NewGRF
add_source(newgrf.cpp)
add_source(newgrf_airport.cpp)
add_source(newgrf_airporttiles.cpp)
add_source(newgrf_canal.cpp)
add_source(newgrf_cargo.cpp)
add_source(newgrf_commons.cpp)
add_source(newgrf_config.cpp)
add_source(newgrf_engine.cpp)
add_source(newgrf_generic.cpp)
add_source(newgrf_house.cpp)
add_source(newgrf_industries.cpp)
add_source(newgrf_industrytiles.cpp)
add_source(newgrf_object.cpp)
add_source(newgrf_railtype.cpp)
add_source(newgrf_sound.cpp)
add_source(newgrf_spritegroup.cpp)
add_source(newgrf_station.cpp)
add_source(newgrf_storage.cpp)
add_source(newgrf_text.cpp)
add_source(newgrf_town.cpp)
add_source(newgrf_townname.cpp)

# Map Accessors
add_source(bridge_map.cpp)
add_source(bridge_map.h)
add_source(clear_map.h)
add_source(industry_map.h)
add_source(object_map.h)
add_source(rail_map.h)
add_source(road_map.cpp)
add_source(road_map.h)
add_source(station_map.h)
add_source(tile_map.h)
add_source(town_map.h)
add_source(tree_map.h)
add_source(tunnel_map.cpp)
add_source(tunnel_map.h)
add_source(tunnelbridge_map.h)
add_source(void_map.h)
add_source(water_map.h)

# Misc
add_source(misc/array.hpp)
add_source(misc/binaryheap.hpp)
add_source(misc/blob.hpp)
add_source(misc/countedobj.cpp)
add_source(misc/countedptr.hpp)
add_source(misc/dbg_helpers.cpp)
add_source(misc/dbg_helpers.h)
add_source(misc/fixedsizearray.hpp)
add_source(misc/getoptdata.cpp)
add_source(misc/getoptdata.h)
add_source(misc/hashtable.hpp)
add_source(misc/str.hpp)

# Network Core
add_source(network/core/address.cpp)
add_source(network/core/address.h)
add_source(network/core/config.h)
add_source(network/core/core.cpp)
add_source(network/core/core.h)
add_source(network/core/game.h)
add_source(network/core/host.cpp)
add_source(network/core/host.h)
add_source(network/core/os_abstraction.h)
add_source(network/core/packet.cpp)
add_source(network/core/packet.h)
add_source(network/core/tcp.cpp)
add_source(network/core/tcp.h)
add_source(network/core/tcp_admin.cpp)
add_source(network/core/tcp_admin.h)
add_source(network/core/tcp_connect.cpp)
add_source(network/core/tcp_content.cpp)
add_source(network/core/tcp_content.h)
add_source(network/core/tcp_game.cpp)
add_source(network/core/tcp_game.h)
add_source(network/core/tcp_http.cpp)
add_source(network/core/tcp_http.h)
add_source(network/core/tcp_listen.h)
add_source(network/core/udp.cpp)
add_source(network/core/udp.h)

# Pathfinder
add_source(pathfinder/follow_track.hpp)
add_source(pathfinder/opf/opf_ship.cpp)
add_source(pathfinder/opf/opf_ship.h)
add_source(pathfinder/pathfinder_func.h)
add_source(pathfinder/pathfinder_type.h)
add_source(pathfinder/pf_performance_timer.hpp)

# NPF
add_source(pathfinder/npf/aystar.cpp)
add_source(pathfinder/npf/aystar.h)
add_source(pathfinder/npf/npf.cpp)
add_source(pathfinder/npf/npf_func.h)
add_source(pathfinder/npf/queue.cpp)
add_source(pathfinder/npf/queue.h)

# YAPF
add_source(pathfinder/yapf/nodelist.hpp)
add_source(pathfinder/yapf/yapf.h)
add_source(pathfinder/yapf/yapf.hpp)
add_source(pathfinder/yapf/yapf_base.hpp)
add_source(pathfinder/yapf/yapf_cache.h)
add_source(pathfinder/yapf/yapf_common.hpp)
add_source(pathfinder/yapf/yapf_costbase.hpp)
add_source(pathfinder/yapf/yapf_costcache.hpp)
add_source(pathfinder/yapf/yapf_costrail.hpp)
add_source(pathfinder/yapf/yapf_destrail.hpp)
add_source(pathfinder/yapf/yapf_node.hpp)
add_source(pathfinder/yapf/yapf_node_rail.hpp)
add_source(pathfinder/yapf/yapf_node_road.hpp)
add_source(pathfinder/yapf/yapf_node_ship.hpp)
add_source(pathfinder/yapf/yapf_rail.cpp)
add_source(pathfinder/yapf/yapf_road.cpp)
add_source(pathfinder/yapf/yapf_ship.cpp)
add_source(pathfinder/yapf/yapf_type.hpp)

# Video
add_source(video/dedicated_v.cpp)
add_source(video/null_v.cpp)
if (DEDICATED)
else ()
if (WITH_ALLEGRO)
	add_source(video/allegro_v.cpp)
endif ()
if (WITH_SDL)
	add_source(video/sdl_v.cpp)
endif ()
if (WIN32)
	add_source(video/win32_v.cpp)
endif ()
endif ()

# Music
if (DEDICATED)
else ()
if (WITH_ALLEGRO)
	add_source(music/allegro_m.cpp)
endif ()
if (WITH_DIRECTMUSIC)
	add_source(music/dmusic.cpp)
endif ()
endif ()
add_source(music/null_m.cpp)
add_source(music/midifile.cpp)
if (DEDICATED)
else ()
if (WIN32)
	add_source(music/win32_m.cpp)
else ()
	if (DOS)
	else ()
		if (MORPHOS)
		else ()
			add_source(music/extmidi.cpp)
		endif ()
	endif ()
endif ()
if (BEOS)
	add_source(music/bemidi.cpp)
endif ()
if (WITH_LIBTIMIDITY)
	add_source(music/libtimidity.cpp)
endif ()
if (WITH_FLUIDSYNTH)
	add_source(music/fluidsynth.cpp)
endif ()
endif ()

# Sound
add_source(sound/null_s.cpp)
if (DEDICATED)
else ()
if (ALLEGRO)
	add_source(sound/allegro_s.cpp)
endif ()
if (WITH_SDL)
	add_source(sound/sdl_s.cpp)
endif ()
if (WIN32)
	add_source(sound/win32_s.cpp)
	add_source(sound/xaudio2_s.cpp)
endif ()
endif ()

if (OSX)
# OSX Files
	add_source(os/macosx/macos.mm)

	if (DEDICATED)
	else ()
		add_source(music/qtmidi.cpp)
	endif ()

	if (COCOA)
		add_source(video/cocoa/cocoa_v.mm)
		add_source(video/cocoa/event.mm)
		add_source(video/cocoa/fullscreen.mm)
		add_source(video/cocoa/wnd_quartz.mm)
		add_source(video/cocoa/wnd_quickdraw.mm)
		add_source(music/cocoa_m.cpp)
		add_source(sound/cocoa_s.cpp)
		add_source(os/macosx/splash.cpp)
	endif ()
endif ()

# Windows files
if (WIN32)
	add_source(os/windows/crashlog_win.cpp)
	add_source(os/windows/ottdres.rc)
	add_source(os/windows/string_uniscribe.cpp)
	add_source(os/windows/win32.cpp)
endif ()

# Threading
add_source(thread/thread.h)
if (HAVE_THREAD)
	if (WIN32)
		add_source(thread/thread_win32.cpp)
	else ()
		if (OS2)
			add_source(thread/thread_os2.cpp)
		else ()
			if (MORPHOS)
				add_source(thread/thread_morphos.cpp)
			else ()
				add_source(thread/thread_pthread.cpp)
			endif ()
		endif ()
	endif ()
else ()
	add_source(thread/thread_none.cpp)
endif ()